<html>
  <head>
    <title>app/helpers/chart_helper.rb</title>
    
    <link href="../../report.css?0.9568921413009706" media="screen" rel="stylesheet" type="text/css" />
    <script src='../../jquery.js?0.34256301719838866'></script>
    <script>
      $(function() {

        $('#toggle_test_file').click(function(e) {
          e.preventDefault();
          if ($('#main_file').hasClass('side_by_side')) {
            $('#main_file').removeClass('side_by_side');
          } else {
            $('#main_file').addClass('side_by_side');
          }
        
          $('#test_file').toggle();
        });

        $('#test_file').hide();
        
        function cleanString(str) {
          return $.trim(str.replace(/<[^(<|>)]+>/gi, ''));
        }
        
        $('.line_number').hover(function() {
          $(this).attr('title', 'Line: ' + cleanString($(this).html()));
        });
        
        $('.hit_number').hover(function() {
          $(this).attr('title', 'Execution Count: ' + cleanString($(this).html()));
        });
        
        $('.code_line').hover(function() {
          $(this).attr('title', cleanString($(this).html()));
        });
        
      });
    </script>
  </head>
  <body>
    <h1><a href="../../index.html">Coverage Report</a></h1>
    
    <table cellpadding='0' cellspacing='1'>
      <tr class='header'>
        <th>File</th>
        <th>Lines</th>
        <th>Lines Of Code</th>
        <th>Tested %</th>
      </tr>
      <tr valign='top'>
        <td>
          app/helpers/chart_helper.rb
          
        </td>
        <td>32</td>
        <td>22</td>
        <td>100.0%</td>
      </tr>
    </table>

    <div>&nbsp;</div>
    
    <table cellpadding='0' cellspacing='1'>
      <tr>
        <th>Legend</th>
      </tr>
      <tr>
        <td class='hit'>This line was executed.</td>
      </tr>
      <tr>
        <td class='miss'>This line was not executed!</td>
      </tr>
      <tr>
        <td class='never'>This line doesn't matter.</td>
      </tr>
    </table>
    
    <div>&nbsp;</div>

    <div id='content'>
      <div id='main_file'>
        <table id='main'>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>1</td>
              <td class='code_line'>
                <pre>module ChartHelper</pre>
              </td>
              <td class='hit_number'>30</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>2</td>
              <td class='code_line'>
                <pre></pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>3</td>
              <td class='code_line'>
                <pre>  def google_chart(data)</pre>
              </td>
              <td class='hit_number'>30</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>4</td>
              <td class='code_line'>
                <pre>    tag :img, src:"http://chart.apis.google.com/chart?#{data}"</pre>
              </td>
              <td class='hit_number'>39</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>5</td>
              <td class='code_line'>
                <pre>  end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>6</td>
              <td class='code_line'>
                <pre></pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>7</td>
              <td class='code_line'>
                <pre>  def histogram(values, grade_scale)</pre>
              </td>
              <td class='hit_number'>30</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>8</td>
              <td class='code_line'>
                <pre>    bins = grade_scale.map{|g| g[0]}</pre>
              </td>
              <td class='hit_number'>162</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>9</td>
              <td class='code_line'>
                <pre>    distribution = bins.map{|bin| [bin, values.select{|v| bin.include?(v)}.size]}</pre>
              </td>
              <td class='hit_number'>162</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>10</td>
              <td class='code_line'>
                <pre>    distribution.first[0] = "&lt;#{distribution.first[0].end}"</pre>
              </td>
              <td class='hit_number'>27</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>11</td>
              <td class='code_line'>
                <pre>    distribution.last[0] = "&gt;#{distribution.last[0].begin}"</pre>
              </td>
              <td class='hit_number'>27</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>12</td>
              <td class='code_line'>
                <pre>    distribution.map!{|range,val| [range.to_s.sub(/.*\.\.\./, ''), val]}</pre>
              </td>
              <td class='hit_number'>162</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>13</td>
              <td class='code_line'>
                <pre>    grades = grade_scale.map{|g| g[1]}</pre>
              </td>
              <td class='hit_number'>162</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>14</td>
              <td class='code_line'>
                <pre>    char_length = grades.join.length</pre>
              </td>
              <td class='hit_number'>27</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>15</td>
              <td class='code_line'>
                <pre>    width = [[10*char_length, 20*grades.length].max, 220].min</pre>
              </td>
              <td class='hit_number'>27</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>16</td>
              <td class='code_line'>
                <pre>    frequencies = distribution.map{|whatever| whatever[1]}</pre>
              </td>
              <td class='hit_number'>162</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>17</td>
              <td class='code_line'>
                <pre>    google_chart "cht=bvs&chg=100,25,1,0&chf=bg,s,ffffff00&chco=66aebd&chbh=10&chd=t:#{frequencies.join(',')}&chds=0,#{frequencies.max}&chs=#{width}x100&chxt=x,y&chxl=0:|#{grades.join('|')}|1:|0|#{frequencies.max}"</pre>
              </td>
              <td class='hit_number'>27</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>18</td>
              <td class='code_line'>
                <pre>  end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>19</td>
              <td class='code_line'>
                <pre></pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>20</td>
              <td class='code_line'>
                <pre>  def pie_chart(distribution)</pre>
              </td>
              <td class='hit_number'>30</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>21</td>
              <td class='code_line'>
                <pre>    height = [distribution.values.length * 18 + 10, 82].min</pre>
              </td>
              <td class='hit_number'>3</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>22</td>
              <td class='code_line'>
                <pre>    width = 200 #may still need js to reset this</pre>
              </td>
              <td class='hit_number'>3</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>23</td>
              <td class='code_line'>
                <pre>    color_array = %w(0085ff bddfff 8fa8bf 307bbf 406280 80c2ff 000000)</pre>
              </td>
              <td class='hit_number'>3</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>24</td>
              <td class='code_line'>
                <pre>    colors = distribution.values.select{|v| v > 0}.length</pre>
              </td>
              <td class='hit_number'>12</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>25</td>
              <td class='code_line'>
                <pre>    google_chart "cht=p&chf=bg,s,ffffff00&chco=#{color_array[0,colors].join(',')}&chs=#{width}x#{height}&chd=t:#{distribution.values.join(',')}&chdl=#{distribution.keys.join('|')}"</pre>
              </td>
              <td class='hit_number'>3</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>26</td>
              <td class='code_line'>
                <pre>  end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>27</td>
              <td class='code_line'>
                <pre></pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>28</td>
              <td class='code_line'>
                <pre>  def progression_graph(progression)</pre>
              </td>
              <td class='hit_number'>30</td>
            </tr>
          
            <tr class="hit" data-hits='#{cov}'"">
              <td class='line_number'>29</td>
              <td class='code_line'>
                <pre>    google_chart "cht=lc&chd=t:#{progression.map{|g| grade_with_precision(g[:grade])}.join(',') }&chs=300x130&chco=66AEBD&chf=c,s,eeeeee&chxt=y&chg=1000,20,1,0"</pre>
              </td>
              <td class='hit_number'>9</td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>30</td>
              <td class='code_line'>
                <pre>  end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>31</td>
              <td class='code_line'>
                <pre></pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
            <tr class="never" "">
              <td class='line_number'>32</td>
              <td class='code_line'>
                <pre>end</pre>
              </td>
              <td class='hit_number'></td>
            </tr>
          
        </table>
      </div>
      
    </div>
    
    <p>Generated on: 2011-02-26 21:12:41 -0500</p>
  </body>
</html>